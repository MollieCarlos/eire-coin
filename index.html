<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EIRE IFMC — Irish Financial Meme Centre</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
  <style>
    body { background: #0a0a0a; color: #e0e0e0; font-family: 'Inter', sans-serif; }
    .gradient-bg { background: linear-gradient(135deg, #0f0f0f, #1a1a1a); }
    .btn-primary { background: #00ff88; color: #000; font-weight: 700; }
    .btn-primary:hover { background: #00cc70; }
    .card { background: #1a1a1a; border: 1px solid #333; }
    .glow { text-shadow: 0 0 10px #00ff88; }
    .inter { font-family: 'Inter', sans-serif; }
  </style>
</head>
<body class="gradient-bg min-h-screen">
  <!-- HEADER -->
  <header class="text-center py-12 px-4">
    <h1 class="text-5xl md:text-7xl font-black glow">EIRE IFMC</h1>
    <p class="text-xl md:text-2xl mt-2">Irish Financial Meme Centre</p>
    <p class="mt-4 text-lg">Launch. Trade. Grow.</p>
  </header>

  <!-- HERO -->
  <section class="text-center py-12 px-4">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-4xl md:text-5xl font-bold">1 EIRE = €1</h2>
      <p class="mt-4 text-xl">Permanently Pegged. Irish-Backed.</p>
      <button id="connectWallet" class="btn-primary px-10 py-4 mt-8 text-xl rounded-full">
        CONNECT WALLET
      </button>
      <button id="launchBtn" class="btn-primary px-10 py-4 mt-4 text-xl rounded-full hidden">
        LAUNCH MEME — €6.15
      </button>
    </div>
  </section>

  <!-- WHAT IS IFMC -->
  <section class="max-w-6xl mx-auto px-4 py-12">
    <h2 class="text-3xl font-bold text-center mb-10">What is IFMC?</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="card p-6 rounded-lg">
        <h3 class="text-xl font-bold text-[#00ff88]">Ireland’s Meme Hub</h3>
        <p class="mt-2">The digital successor to the IFSC — powering the next generation of Irish memecoins.</p>
      </div>
      <div class="card p-6 rounded-lg">
        <h3 class="text-xl font-bold text-[#00ff88]">€1 Pegged Token</h3>
        <p class="mt-2">Every launch adds liquidity. EIRE stays at €1. Forever.</p>
      </div>
      <div class="card p-6 rounded-lg">
        <h3 class="text-xl font-bold text-[#00ff88]">Creator Revenue</h3>
        <p class="mt-2">€5.00 per launch goes directly to your wallet. Instantly.</p>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section class="max-w-6xl mx-auto px-4 py-12">
    <h2 class="text-3xl font-bold text-center mb-10">How It Works</h2>
    <div class="grid md:grid-cols-5 gap-4 text-center">
      <div class="card p-4">
        <div class="text-3xl font-bold text-[#00ff88]">1</div>
        <p class="mt-2">Connect Wallet</p>
      </div>
      <div class="card p-4">
        <div class="text-3xl font-bold text-[#00ff88]">2</div>
        <p class="mt-2">Pay €6.15</p>
      </div>
      <div class="card p-4">
        <div class="text-3xl font-bold text-[#00ff88]">3</div>
        <p class="mt-2">€5.00 → You</p>
      </div>
      <div class="card p-4">
        <div class="text-3xl font-bold text-[#00ff88]">4</div>
        <p class="mt-2">€1.15 → EIRE LP</p>
      </div>
      <div class="card p-4">
        <div class="text-3xl font-bold text-[#00ff88]">5</div>
        <p class="mt-2">Meme Live</p>
      </div>
    </div>
  </section>

  <!-- LIVE LAUNCHES -->
  <section class="max-w-6xl mx-auto px-4 py-12">
    <h2 class="text-3xl font-bold text-center mb-10">Live Launches</h2>
    <div id="memes" class="grid md:grid-cols-4 gap-4"></div>
  </section>

  <!-- FOOTER -->
  <footer class="text-center py-10 text-sm border-t border-gray-800 mt-20">
    <p>EIRE IFMC • Dublin, Ireland • 2025</p>
    <p class="mt-2">
      <a href="https://github.com/yourname/eire-ifmc" class="underline">GitHub</a> • 
      <a href="mailto:info@eire-ifmc.com" class="underline">Contact</a>
    </p>
  </footer>

  <!-- WALLET CONNECT (ALL WALLETS) -->
  <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  <script>
    const FACTORY = "0xYOUR_FACTORY_ADDRESS";
    const ABI = [{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"metadataURI","type":"string"}],"name":"create","outputs":[],"stateMutability":"payable","type":"function"}];

    let provider, signer, factory;

    document.getElementById("connectWallet").onclick = async () => {
      try {
        // WalletConnect (Trust Wallet, etc.)
        const wcProvider = new WalletConnectProvider.default({
          rpc: { 56: "https://bsc-dataseed.binance.org/" }
        });
        await wcProvider.enable();
        provider = new ethers.providers.Web3Provider(wcProvider);
        
        // Fallback to MetaMask
        if (window.ethereum) {
          provider = new ethers.providers.Web3Provider(window.ethereum);
          await window.ethereum.request({ method: 'eth_requestAccounts' });
        }

        signer = provider.getSigner();
        factory = new ethers.Contract(FACTORY, ABI, signer);
        document.getElementById("connectWallet").classList.add("hidden");
        document.getElementById("launchBtn").classList.remove("hidden");
      } catch (e) { alert("Wallet connection failed"); }
    };

    document.getElementById("launchBtn").onclick = async () => {
      const name = prompt("Token Name:");
      const symbol = prompt("Symbol:");
      if (!name || !symbol) return;
      const tx = await factory.create(name, symbol, "", { value: ethers.utils.parseEther("0.003236") });
      alert("Launching... Tx: " + tx.hash);
    };

    // Load Memes
    async function loadMemes() {
      try {
        const prov = new ethers.providers.JsonRpcProvider("https://bsc-dataseed.binance.org/");
        const fact = new ethers.Contract(FACTORY, ABI, prov);
        const events = await fact.queryFilter(fact.filters.MemeLaunched());
        const list = document.getElementById("memes");
        list.innerHTML = "";
        for (let e of events.slice(-12)) {
          list.innerHTML += `
            <div class="card p-4 rounded-lg text-center">
              <p class="font-bold">${e.args.name || "Meme"}</p>
              <p class="text-sm text-gray-400">(${e.args.symbol || "SYM"})</p>
              <p class="text-xs mt-1">by ${e.args.creator.slice(0,6)}...${e.args.creator.slice(-4)}</p>
            </div>`;
        }
      } catch (e) {}
    }
    setInterval(loadMemes, 10000);
    loadMemes();
  </script>
</body>
</html>
